# PDF Searcher - Free Tier Environment Variables
# Copy this file to `.env.local` when running against Supabase and Pinecone free-tier plans.
# Fill in the credential placeholders before running the application.

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# Google Document AI Configuration
GOOGLE_CLOUD_PROJECT_ID=your-gcp-project-id
GOOGLE_CLOUD_LOCATION=us

# Document AI Processors
GOOGLE_CLOUD_PROCESSOR_ID=your_primary_processor_id
GOOGLE_CLOUD_OCR_PROCESSOR_ID=your_ocr_processor_id
GOOGLE_APPLICATION_CREDENTIALS=./credentials/google-service-account.json

# Pinecone Configuration
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_INDEX_NAME=your-pinecone-index-name

# Cron Job Security
CRON_SECRET=generate_a_secure_random_string_here

# Supabase Connection Pool (Free-tier friendly)
DB_POOL_MIN_CONNECTIONS=2
DB_POOL_MAX_CONNECTIONS=40
DB_POOL_IDLE_TIMEOUT=120000
DB_POOL_CONNECTION_TIMEOUT=120000
UNLIMITED_PROCESSING=false

# Concurrency Throttling (Free-tier defaults)
UPLOAD_GLOBAL_LIMIT=2
UPLOAD_PER_USER_LIMIT=2
DELETE_GLOBAL_LIMIT=2
DELETE_PER_USER_LIMIT=2

# Pinecone Cleanup Retry Strategy
PINECONE_DELETE_MAX_RETRIES=3
PINECONE_DELETE_BACKOFF_MS=2000

# Enterprise Processing Limits (keep conservative for free tier)
MAX_CONCURRENT_DOCUMENTS=1
MAX_CONCURRENT_CHUNKS_PER_DOC=25
LARGE_DOCUMENT_THRESHOLD_MB=5

# Logging Configuration
VERBOSE_LOGS=true

# Chunking Configuration
MAX_CHUNK_CHARACTERS=1000

# Similarity Search (Stage 2)
SIMILARITY_STAGE2_WORKERS=1

# Optional debugging
DUMP_DOCUMENT_AI=0
